{% extends "layout.html" %}

{% block content %}
  <h2>🍽️ Find Your Next Spot</h2>

  <form method="POST">
    <label>Location:</label>
    <input name="location" placeholder="e.g., Austin, TX" required><br><br>

    <label>Cuisine:</label>
    <select name="cuisine" required>
      <option>Thai</option>
      <option>Mexican</option>
      <option>Vegan</option>
      <option>American</option>
      <option>Chinese</option>
      <option>Barbeque</option>
      <option>Greek</option>
      <option>Indian</option>
      <option>Italian</option>
    </select><br><br>

    <label>Price:</label>
    <select name="price" required>
      <option>$</option>
      <option>$$</option>
      <option>$$$</option>
      <option>$$$$</option>
    </select><br><br>

    <label>Vibe:</label>
    <select name="vibe" required>
      <option>Cozy</option>
      <option>Trendy</option>
      <option>Romantic</option>
      <option>Casual</option>
    </select><br><br>

    <button type="submit">🔍 Search</button>
  </form>

  {% if results %}
    <h3>🎉 Top Recommendations:</h3>
    {% for r in results %}
      <div style="border:1px solid #ccc; padding:10px; margin:10px 0;">
        <h4>{{ r.name }} – {{ r.location }}</h4>
        <p>Rating: {{ r.rating }} | Price: {{ r.price }}</p>
        <p>{{ r.blurb }}</p>
        <a href="{{ r.url }}" target="_blank">View on Yelp</a>
      </div>
    {% endfor %}
  {% endif %}
{% endblock %}
